<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.8 (457453)"/><meta name="author" content="Ian"/><meta name="created" content="2019-02-25 23:00:47 +0000"/><meta name="updated" content="2019-02-26 05:58:31 +0000"/><title>在aws ec2 上部署laravel 5.7</title></head><body><div><br/></div><div>最近有计划在laracast 上写学习 laracsts 的新课程 <span style="font-size: 14px;">Build A Laravel App With TDD，一直在虚拟机上学习各种laravel的操作的我，突然觉得，为什么不趁这个机会，试试在生产环境上搭建一个laravel 环境，再来学习这个教程？</span></div><div><br/></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%2010.18.22%20am.png" height="1018" width="2342"/><br/></div><div><span style="font-size: 14px;"><br/></span></div><div><span style="font-size: 14px;"><br/></span></div><div><span style="font-size: 14px;">于是一拍大腿说干就干，申请了一个aws号就开始了，结果才发现这个对于不熟悉 lamp 各种设定，只会写代码的人来说简直是一场噩梦，看了很多教程，大部分给新人的感觉就是，你只要做了什么什么事情， duang 就装好了，再加上很多都是好多年前的教程，aws 和 lara 的界面以及操作代码和现在的都不一定一样。从新手的角度看 真是一脸懵逼呀。</span></div><div> </div><div><span style="font-size: 14px;">本文算是菜鸟写给菜鸟的一篇教程，其实主要还是写给我自己，如果以后再次有这方面的需要可以回来看一眼，很多书写模式都是按照自己看得懂什么意思，要是大家一下没看明白卡在哪了可以给我说。</span></div><div><span style="font-size: 14px;"><br/></span></div><div><span style="font-size: 14px;">高手可以不用看了，但是如果不介意指点一二那也自然是不胜感激。</span></div><div><span style="font-size: 14px;"><br/></span></div><div><span style="font-size: 14px;">本文参考了</span></div><div><span style="font-size: 14px;"><br/></span></div><div><span style="font-size: 14px;">laravel 5.7的文档: </span><span style="font-size: 14px;"><a href="https://laravel.com/docs/5.7/" style="font-size: 14px;">https://laravel.com/docs/5.7/</a></span></div><div><br/></div><div>YouTube上一个并不是明星程序员主播发的 laravel 5.4 aws ec2 部署教程：</div><div><br/></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%2011.20.54%20am.png" height="1444" width="1834"/><br/></div><div><span style="font-size: 14px;"><br/></span></div><div> </div><div><span style="font-size: 14px;">第一步申请一个aws 账号，lz人在国外，看了一下国内的界面好像不太一样，无法指导，大家想办法弄一个就是了。</span></div><div><span style="font-size: 14px;"><br/></span></div><div><span style="font-size: 14px;">第一步， aws ec 2 实例创建：</span></div><div><span style="font-size: 14px;"><br/></span></div><ol><li><div><span style="font-size: 14px;">来到 AWS 主界面，点击导航栏的 “服务” 找到 ec2</span></div></li></ol><div><span style="font-size: 14px;"><br/></span></div><div><span style="font-size: 14px;"><br/></span></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%2011.14.01%20am.png" height="896" width="1894"/><br/></div><div><span style="font-size: 14px;"><br/></span></div><ol start="2"><li><div>点击 蓝色按钮 “启动实例”</div></li></ol><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%2011.23.33%20am.png" height="1020" width="2030"/><br/></div><div><br/></div><ol start="3"><li><div>挑选Ubuntu   16.04 服务器（注意每个机器的图标下面都有是否提供免费试用的提醒）</div></li></ol><div><span style="font-size: 14px;"><br/></span></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%2011.48.14%20am.png" height="1216" width="2482"/><br/></div><div><br/></div><ol start="4"><li><div>挑选实例类型 就可以启动了，第三个灰色按钮可以设置更多的细节，但是如果只是练手的小项目，我个人觉得是可以忽略的。</div></li></ol><div><span style="font-size: 14px;"><br/></span></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%2011.52.16%20am.png" height="1386" width="2578"/><br/></div><div><br/></div><ol start="5"><li><div> 在启动前，设置安全组也是很重要的一步。 点击 “编辑安全组”</div></li></ol><div><span style="font-size: 14px;"><br/></span></div><div><br/></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%2012.03.58%20pm.png" height="1242" width="2550"/><br/></div><div><br/></div><div><span style="font-size: 14px;">   6. 把端口 22 ssh 和3306 设置成 “我的ip” 把80 端口设置成 所有人。（安全组是aws 中及其重要的一部分，有兴趣的同学也可以看看专门的aws 教程）设置完成就可以启动了。</span></div><div><span style="font-size: 14px;"><br/></span></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%2012.19.17%20pm.png" height="1062" width="2618"/><br/></div><div><br/></div><ol start="7"><li><div>正式启动前 aws  会要求用户创建一个钥匙，只有ip符合，并且拥有钥匙的人 才可以远程操作这个实例和以及实例中的数据库。记得下载了以后 妥善保存钥匙文件。<span style="font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif;">下载完钥匙文件，我们就可以启动这个实例了。</span></div></li></ol><div><span style="font-size: 14px;"><br/></span></div><div><br/></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%2012.24.51%20pm.png" height="1054" width="1410"/><br/></div><div><br/></div><div><span style="font-size: 14px;">第二步，SSH远程链接Ubuntu</span></div><div><span style="font-size: 14px;"><br/></span></div><ol><li><div>将第一步生成的钥匙文件妥善保存在一个文件夹里，在terminal（iTerm）中打开该文件夹：</div></li></ol><div><span style="font-size: 14px;"><br/></span></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%2012.45.22%20pm.png" height="1218" width="1524"/><br/></div><div><br/></div><ol start="2"><li><div>在 aws ec2的主界面，找到刚才创建的实例， 右键，选择“链接” ， 跳出来的小窗就有链接ssh 需要的一切linux代码了。文中打码处是<span style="color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, Roboto, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">Public DNS，这个同样可以在主界面里找到。</span></div></li></ol><div><span style="font-size: 14px;"><br/></span></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%2012.49.17%20pm.png" height="624" width="1652"/><br/></div><div><br/></div><div><span style="font-size: 14px;"><br/></span></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%2012.56.01%20pm.png" height="1250" width="1608"/></div><ol start="3"><li><div>继续第1步的terminal ，在terminal 中输入 <span style="overflow: auto; font-family: Monaco, Menlo, Consolas, &quot;Courier Prime&quot;, Courier, &quot;Courier New&quot;, monospace;"><b style=""><font style="font-size: 18px;">chmod 400 larakey.pem</font></b><span style="font-size: 1em;">（</span></span><span style="overflow: auto; font-size: 1em; font-family: Monaco, Menlo, Consolas, &quot;Courier Prime&quot;, Courier, &quot;Courier New&quot;, monospace;">larakey是我在第一步里自己取的钥匙名字，以个人钥匙</span><span style="overflow: auto; font-size: 1em; font-family: Monaco, Menlo, Consolas, &quot;Courier Prime&quot;, Courier, &quot;Courier New&quot;, monospace;">），然后再输入“</span><span style="overflow: auto; font-family: Monaco, Menlo, Consolas, &quot;Courier Prime&quot;, Courier, &quot;Courier New&quot;, monospace; color: rgb(68, 68, 68); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><b style=""><font style="font-size: 18px;">ssh -i "larakey.pem" <a href="mailto:ubuntu@ec2-52-64-172-156.ap-southeast-2.compute.amazonaws.com" style="">ubuntu@ec2-xxxxxxx-xxxx.ap-southeast-2.compute.amazonaws.com</a></font></b></span><span style="overflow: auto; font-size: 1em; font-family: Monaco, Menlo, Consolas, &quot;Courier Prime&quot;, Courier, &quot;Courier New&quot;, monospace;">”（ubuntu@后面请参考自己的 </span><span style="color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, Roboto, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">Public DNS</span><span style="overflow: auto; font-size: 1em; font-family: Monaco, Menlo, Consolas, &quot;Courier Prime&quot;, Courier, &quot;Courier New&quot;, monospace;">）</span></div></li></ol><div><br/></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%201.15.06%20pm.png" height="404" width="1562"/></div><div><br/></div><div><br/></div><div><span style="font-size: 14px;">第三步 设置 lamp 环境</span></div><div><span style="font-size: 14px;"><br/></span></div><ol><li><div>首先 ， 根据laravel 5.7的官方文档，laravel 5.7 需要php 7.1.3以上的版本，所以要安装php 7.13以上的版本。 在terminal中输入：</div></li></ol><div><span style="font-size: 14px;"><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><br/></span></div><div style="margin-left: 200px;"><b style=""><font style="font-size: 18px;">sudo add-apt-repository ppa:ondrej/php </font></b></div><div style="margin-left: 200px;"><b><font style="font-size: 18px;">sudo apt-get update </font></b></div><div style="margin-left: 200px;"><b style=""><font style="font-size: 18px;">sudo apt-get install php7.2</font></b></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%201.23.50%20pm.png" height="1330" width="1422"/></div><div><br/></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%201.37.22%20pm.png" height="206" width="1532"/></div><div><br/></div><ol start="2"><li><div><span style="font-size: 14px;">sudo apt-get install apache2 安装apache服务器</span></div></li></ol><div><span style="font-size: 14px;"><br/></span></div><div><span style="font-size: 14px;"><br/></span></div><ol start="3"><li><div>sudo apt-get install mysql-server 安装mysql （中间需要设置root 用户密码<span style="font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif;">）</span></div></li></ol><div><span style="font-size: 14px;"><br/></span></div><ol start="4"><li><div>测试网站，在aws 界面找到<span style="font-size: 14px;">Public DNS (IPv4) 复制到浏览器中就可以看到apache的默认页面了。 这个页面的存放位置是/var/www/html, 这些信息在这个默认界面都有。</span></div></li></ol><div><span style="font-size: 14px;"><br/></span></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%202.12.17%20pm.png" height="1606" width="1654"/></div><div><span style="font-size: 14px;"><br/></span></div><ol start="5"><li><div><span style="font-size: 14px;">使用sequel pro 测试远程数据库，这一步如果有问题，十次有九次是第一步安全组没有设置好，如果链接失败可以看看安全组有没有开放3306端口，并且有没有开放当前使用机器的ip。</span></div></li></ol><div><span style="font-size: 14px;"><span>    </span><br/></span></div><div><span style="font-size: 14px;"><span><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%202.14.35%20pm.png" height="1308" width="1500"/></span></span></div><div><span style="font-size: 14px;"><span><br/></span></span></div><div><span>    </span>6.链接成功如图：</div><div><br/></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%202.23.06%20pm.png" height="892" width="1634"/></div><div><br/></div><div><br/></div><div>第四步 部署aws</div><div><br/></div><ol><li><div><span style="font-size: 14px;">cd /var/www/html 定位到公共 html 路径。（其实也可以在别的路径下操作，只是个人习惯而已）</span></div></li></ol><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%202.44.43%20pm.png" height="820" width="1274"/></div><div><br/></div><div><br/></div><ol start="2"><li><div>安装composer 分别敲入：</div></li></ol><div><span style="font-size: 14px;"><br/></span></div><div><font style="font-size: 18px;"><b>sudo curl -O <a href="https://getcomposer.org/">https://getcomposer.org/</a>composer.phar</b></font></div><div><font style="font-size: 18px;"><b><br/></b></font></div><div><font style="font-size: 18px;"><b>sudo mv composer.phar composer</b></font></div><div><font style="font-size: 18px;"><b><br/></b></font></div><div><font style="font-size: 18px;"><b>sudo chmod +x composer</b></font></div><div><font style="font-size: 18px;"><b><br/></b></font></div><div><font style="font-size: 18px;"><b>sudo mv composer /usr/local/bin</b></font></div><div><span style="font-size: 14px;"><br/></span></div><div><span style="font-size: 14px;"><span>    </span><span>    </span>composer 可用</span></div><div><span style="font-size: 14px;"><br/></span></div><ol start="3"><li><div><span style="font-size: 14px;">现在可以无视官网上的system requirement 尝试安装一下 （代码：</span><font style="font-size: 18px;"><b> sudo composer create-project --prefer-dist laravel/laravel blog</b></font><span style="font-size: 14px;">），结果当然失败了。错误是缺少</span><span style="color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-size: 13px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">Mbstring 拓展，所以terminal中输入 </span><span style="color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 18px;"><b>sudo apt-get install php-mbstring </b></font></span><span style="color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-size: 13px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">安装拓展</span></div></li></ol><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%203.11.28%20pm.png" height="998" width="1374"/></div><div><span style="font-size: 14px;"><br/></span></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%203.11.00%20pm.png" height="944" width="1948"/></div><div><br/></div><ol start="4"><li><div><span style="font-size: 14px;">sudo rm -rf blog 删除blog 路径，</span>再次尝试 依然失败，可以 看见 缺少<span style="font-size: 14px;"> ext-dom，搜索引擎搜索关键词“</span><span style="font-size: 14px;">requires ext-dom</span><span style="font-size: 14px;">” 找到了一个回答（</span><span style="font-size: 14px;"><a href="https://stackoverflow.com/questions/43408604/php7-install-ext-dom-issue">https://stackoverflow.com/questions/43408604/php7-install-ext-dom-issue</a></span><span style="font-size: 14px;">）是需要安装 </span><span style="font-size: 14px;">xml 拓展，于是按照stckoverflow 这个回答，输入命令 </span><font style="font-size: 18px;"><b>sudo apt-get install php7.2-xml</b></font></div></li></ol><div><span style="font-size: 14px;"><span>    </span><span>    </span><span>    </span><br/></span></div><div><span style="font-size: 14px;"><span><span>    </span><span>    </span><span>    同时需要注意黄色高亮的一段警告（</span></span></span><span style="font-size: 14px;"> Failed to download laravel/laravel from dist: The zip extension and unzip command are both missing,</span>），系统缺少zip unzip 命令，于是顺手就安装一下。<font style="font-size: 18px;"><b style="">s</b><b style="">ud</b></font><span style="font-size: 18px; font-weight: bold;">o apt-get install zip unzip </span><font style="font-size: 14px;">这个包在laravel 5.7系统需求里并没有提到，我猜大概是因为太基础了，lara 官方认为人人都会有，所以就没写了，值得各位新手们注意。</font></div><div><span style="font-size: 14px;"><br/></span></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%203.23.48%20pm.png" height="1040" width="1752"/></div><div><span style="font-size: 14px;"><br/></span></div><ol start="5"><li><div>再一次尝试部署laravel（<span style="font-size: 14px;">代码：</span><span style="font-size: 18px; font-weight: bold;"> sudo composer create-project --prefer-dist laravel/laravel blog </span><span style="font-size: 14px;">）成功！</span></div></li></ol><div><span style="font-size: 14px;"><br/></span></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%203.41.14%20pm.png" height="746" width="1148"/></div><div><br/></div><div><span>    </span><span>    </span>*6. 官网上不是提了很多插件（<span style="color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-size: 13px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">PDO，</span><span style="color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-size: 13px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">OpenSSL，</span><span style="color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-size: 13px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">Tokenizer等等</span>），为什么只装了两个就完成了呢？我的理解是很多插件，在安装php 7.2 的时候就已经包含进去了，所以就不需要安装了。这个信息可以在phpinfo 里看见（<b>我也不知道我理解的对还是不对，如果错了还请高手指正</b>）。</div><div><br/></div><div>在terminal中定位到“/var/www/html”输入 <b>sudo vim info.php</b></div><div><b><br/></b></div><div><span style="font-size: 14px;">键盘上 按 <b>“i”</b>键，输入<b>“&lt;?php </b></span><span style="font-size: 14px;"><b>phpinfo();</b></span><span style="font-size: 14px;"><b>?&gt;”</b>, 按<b>“esc”</b>键，按<b>“:wq”</b> 。</span></div><div><span style="font-size: 14px;"><br/></span></div><div><span style="font-size: 14px;">在浏览器的地址栏输入 </span><span style="font-size: 14px;">Public DNS (IPv4)(aws ec2 页面可以找到)/info.php</span></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%203.57.58%20pm.png" height="1168" width="1874"/></div><div><br/></div><div><br/></div><div><span style="color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-size: 13px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">OpenSSL：</span></div><div><span style="color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-size: 13px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></span></div><div><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;"><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%204.00.00%20pm.png" height="524" width="1970"/></span></div><div><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;"><br/></span></div><div><span style="color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-size: 13px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">PDO：</span></div><div><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;"><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%204.00.28%20pm.png" height="204" width="1950"/></span></div><div><span style="color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-size: 13px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></span></div><div><span style="color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-size: 13px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">Tokenizer</span></div><div><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;"><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%204.01.13%20pm.png" height="168" width="1958"/></span></div><div><span style="color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-size: 13px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">Ctype</span></div><div><span style="color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-size: 13px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></span></div><div><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;"><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%204.01.53%20pm.png" height="176" width="1942"/></span></div><div><span style="color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-size: 13px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">JSON</span></div><div><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;"><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%204.02.22%20pm.png" height="214" width="1972"/></span></div><div><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;"><br/></span></div><div><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;">并没有找到  </span><span style="font-size: 16px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif;">BCMath PHP Extension </span><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;">相关的信息，</span></div><div><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;"><br/></span></div><div><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;">或许是这个？</span></div><div><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;"><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%204.09.14%20pm.png" height="176" width="1946"/></span></div><div style="box-sizing: border-box; line-height: 1.9; margin: 10px 0px 20px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="font-size: 13px; box-sizing: border-box; line-height: 1.9; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"> 为了防止以后项目出问题卡住，我谷歌了一下如何安装BCMath php 插件：</span><span style="color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;"><font style="font-size: 18px;"><b>sudo apt-get install php7.2-bcmath</b></font></span></div><div style="box-sizing: border-box; line-height: 1.9; margin: 10px 0px 20px; font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;">再次强调一下这部分只是自己的猜测，也不知道对不对，希望有高手能指点一下。</span></div><div style="box-sizing: border-box; line-height: 1.9; margin: 10px 0px 20px; font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;"><br/></span></div><ol start="7"><li style=""><div style="box-sizing: border-box; line-height: 1.9; margin: 10px 0px 20px; font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">回到第5步，可以在浏览器地址拦输入：<span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;">Public DNS (IPv4)/blog/public, 很明显，是我们熟悉的 laravel 的报错方式，基本上说明，部署已经成功了！</span></div></li></ol><div style="box-sizing: border-box; line-height: 1.9; margin: 10px 0px 20px; font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">报错 <span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;">"The stream or file "/var/www/html/blog/storage/logs/laravel-2019-02-26.log" could not be opened: failed to open stream: Permission denied"解决这个问题就要感谢 之前的哪位非明星程序员主播了。</span></div><div style="box-sizing: border-box; line-height: 1.9; margin: 10px 0px 20px; font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;">在terminal 进入blog（自己创建的laravel 项目文件夹）输入：</span></div><div style="box-sizing: border-box; line-height: 1.9; margin: 10px 0px 20px; font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;">sudo chmod 777 -R storage/</span></div><div style="box-sizing: border-box; line-height: 1.9; margin: 10px 0px 20px; font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; line-height: 1.9; font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">sudo chmod 777 -R bootstrap/</span></div><div style="box-sizing: border-box; line-height: 1.9; margin: 10px 0px 20px; font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="color:rgb(82, 82, 82);font-family:&quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif;font-size:13px;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.9;"><br/></span>回到浏览器刷新，我们熟悉的laravel 起始界面就出现了！</div><div style="box-sizing: border-box; line-height: 1.9; margin: 10px 0px 20px; font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;"/><br/></div><div style="box-sizing: border-box; line-height: 1.9; margin: 10px 0px 20px; font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%204.14.46%20pm.png" height="1280" width="2252"/></div><div><br/></div><div><br/></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%204.22.50%20pm.png" height="1190" width="2202"/></div><ol start="8"><li><div><span style="font-size: 14px;">terminal 来到</span><font style="font-size: 18px;"><b> cd /etc/apache2/sites-available/</b></font><span style="font-size: 14px;"> ,我们需要修改的就是 那个</span><span style="font-size: 14px;">000-default.conf 文件（</span><b style=""><font style="font-size: 18px;">sudo vim 000-default.conf</font></b><span style="font-size: 14px;">不熟悉vim 的同学也可以把vim改成nano）。</span></div></li></ol><div><span style="font-size: 14px;"><br/></span></div><div><span style="font-size: 14px;"><br/></span></div><div><span style="font-size: 14px;"><br/></span></div><div><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;"><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%204.31.40%20pm.png" height="246" width="1178"/></span></div><div><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;"><br/></span></div><ol start="9"><li><div><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;">找到 </span><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;">DocumentRoot /var/www/html 这一行 改成</span><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;">DocumentRoot /var/www/html/blog/public</span></div></li></ol><div><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;"><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%204.35.35%20pm.png" height="1090" width="2030"/></span></div><div><span style="font-size: 13px; color: rgb(82, 82, 82); font-family: &quot;Whitney SSm A&quot;;"><br/></span></div><ol start="10"><li><div><span style="font-size: 14px;">在&lt;/VirtualHost&gt; 前加入：</span></div></li></ol><div><span style="font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif;">&lt;Directory </span><span style="font-size: 14px;">"/var/www/html"</span><span style="font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif;">&gt; </span></div><div><span style="font-size: 14px;"><span>    </span><span>    </span><span>    </span>AllowOverride all </span></div><div><span style="font-size: 14px;"><span>    </span><span>    </span><span>    </span>Require all granted </span></div><div><span style="font-size: 14px;">&lt;/Directory&gt;</span></div><div><span style="font-size: 14px;"><br/></span></div><div><span style="font-size: 14px;">保存退出</span></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%204.49.58%20pm.png" height="586" width="1412"/></div><br/><ol start="11"><li><div>在terminal输入 <b style=""><font style="font-size: 18px;">sudo service apache2 restart </font></b>重启apache服务器，完成后，用<span style="font-size: 14px;">Public DNS (IPv4) （不加 blog/public） 就可以直接访问刚才创建的laravel 项目了</span></div></li></ol><div><span style="font-size: 14px;"><br/></span></div><div><img src="%E5%9C%A8aws%20ec2%20%E4%B8%8A%E9%83%A8%E7%BD%B2laravel%205.7.html.resources/Screen%20Shot%202019-02-26%20at%204.50.34%20pm.png" height="1094" width="1746"/></div><div><br/></div><div>总结，昨天一整天都在研究如何部署，很多文章就是给了一堆代码让我们自己去输就是了，于是我一个个去试，走了好多弯路，浪费了好多时间，但是我自己知道，因为我记性不太好，以后再次需要部署的时候又要从头到尾再来一遍（虽然aws 应该是可以保存模版的），为了避免以后浪费时间， 我就试着再来一遍，并且记录下每一步做了什么。</div><div><br/></div><div><span style="font-size: 14px;">我的微信：qiuxan1989 如果有什么纰漏的地方，或者需要交流的地方可以联系我。</span></div><div><span style="font-size: 14px;"><br/></span></div><div><span style="font-size: 14px;">同时本人坐标墨尔本，现有工作特别闲，学习时间很多， 正在考虑跳槽，有初级程序员的位置的雇主们可以联系一下。</span><span style="font-size: 14px;">😊</span><span style="font-size: 14px;">😊</span><span style="font-size: 14px;">😊</span></div></body></html>